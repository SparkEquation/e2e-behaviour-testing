{"version":3,"sources":["webpack://e2e-behaviour-testing/webpack/universalModuleDefinition","webpack://e2e-behaviour-testing/webpack/bootstrap","webpack://e2e-behaviour-testing/./lib/Given/index.ts","webpack://e2e-behaviour-testing/./lib/Given/loggedIn.ts","webpack://e2e-behaviour-testing/./lib/Given/openPage.ts","webpack://e2e-behaviour-testing/./lib/Then/correctUrl.ts","webpack://e2e-behaviour-testing/./lib/Then/index.ts","webpack://e2e-behaviour-testing/./lib/Then/seeTitle.ts","webpack://e2e-behaviour-testing/./lib/When/click.ts","webpack://e2e-behaviour-testing/./lib/When/hover.ts","webpack://e2e-behaviour-testing/./lib/When/index.ts","webpack://e2e-behaviour-testing/./lib/When/logIn.ts","webpack://e2e-behaviour-testing/./lib/When/see.ts","webpack://e2e-behaviour-testing/./lib/When/typingIn.ts","webpack://e2e-behaviour-testing/./lib/globalHooks.ts","webpack://e2e-behaviour-testing/./lib/index.ts","webpack://e2e-behaviour-testing/./lib/types.ts","webpack://e2e-behaviour-testing/./src/core/functions.ts","webpack://e2e-behaviour-testing/./src/core/index.ts","webpack://e2e-behaviour-testing/./src/core/pageObjectRegistrator.ts","webpack://e2e-behaviour-testing/./src/index.ts","webpack://e2e-behaviour-testing/external \"core-js/modules/es.array.iterator\"","webpack://e2e-behaviour-testing/external \"core-js/modules/es.promise\"","webpack://e2e-behaviour-testing/external \"cypress-cucumber-preprocessor/steps\"","webpack://e2e-behaviour-testing/external \"reflect-metadata\""],"names":["register","OpenPage","LoggedIn","loggedInAsFunction","apiSelectorString","roleSelectorString","redirectSelectorString","navigationSelector","PageObjectSelector","roleSelector","url","getNavigationUrl","requestBody","field","getValue","fieldName","value","cy","request","method","form","body","headers","then","response","expect","status","to","eq","have","property","redirectSelector","visit","Given","selectorString","selector","Then","should","Cypress","config","baseUrl","SeeTitle","CorrectUrl","title","When","table","options","ClickOptions","rowsHash","element","getElement","getOptions","extractCommonGetOptions","first","get","click","force","BlankLinkClickOptions","callback","el","attr","customClick","root","href","stub","window","win","callsFake","passedHref","be","called","within","trigger","Click","See","LogIn","TypingIn","Hover","elementSelector","credentials","type","wrap","submit","SeeOptions","amount","scrollIntoView","matchedElements","each","matchedElement","text","extractCredentials","Credentials","registerPageObject","name","PageObjectField","RoleCredentials","constructor","Object","entries","forEach","key","before","env","beforeEach","urlToVisit","Types","GlobalHooks","pageObjectSelector","className","split","classInstance","storage","undefined","Error","fieldDescriptor","getFieldDescriptor","invokable","toString","ElementGetOptions","props","wait","Number","Boolean","getElementAlias","Xpath","xpath","as","Selector","Array","isArray","contains","Navigation","result","isNaN","timeout","makeCypressWaitForPromise","promiseToWait","Promise","resolve","reject","catch","Map","metadataTypeKey","metadataInvokableKey","params","hasOwnProperty","MetadataProvider","Reflect","hasMetadata","getMetadata","defineMetadata","prototype","log","has","set","registerSelector","target","descriptor"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"e2e-behaviour-testing\"] = factory();\n\telse\n\t\troot[\"e2e-behaviour-testing\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as OpenPage from './openPage';\nimport * as LoggedIn from './loggedIn';\n\nexport function register(): void {\n    OpenPage.register();\n    LoggedIn.register();\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Given } from 'cypress-cucumber-preprocessor/steps';\nimport { PageObjectSelector } from '../types';\nimport { LogInRole } from '../../src/core';\nimport { getNavigationUrl } from '../../src/core/functions';\n\nexport function register(): void {\n    const loggedInAsFunction = (\n        apiSelectorString: string, roleSelectorString: string, redirectSelectorString?: string\n    ): void => {\n        const navigationSelector = new PageObjectSelector(apiSelectorString);\n        const roleSelector = new PageObjectSelector(roleSelectorString);\n        const url = getNavigationUrl(navigationSelector);\n\n        const requestBody = {};\n        for (const field of roleSelector.getValue() as LogInRole) {\n            requestBody[field.fieldName] = field.value;\n        }\n\n        cy.request({\n            method: 'POST',\n            url,\n            form: true,\n            body: requestBody,\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest',\n            },\n        }).then(response => {\n            expect(response.status).to.eq(200);\n            expect(response).to.have.property('headers');\n        });\n\n        if (redirectSelectorString) {\n            const redirectSelector = new PageObjectSelector(redirectSelectorString);\n            cy.visit(getNavigationUrl(redirectSelector));\n        }\n    };\n\n    Given(`I logged in at {string} as {string}`, loggedInAsFunction);\n    Given(`I logged in at {string} as {string} and visit {string}`, loggedInAsFunction);\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Given } from 'cypress-cucumber-preprocessor/steps';\nimport { PageObjectSelector } from '../types';\nimport { getNavigationUrl } from '../../src/core/functions';\n\nexport function register(): void {\n    Given(`I open {string}`, (selectorString: string) => {\n        const selector = new PageObjectSelector(selectorString);\n        cy.visit(getNavigationUrl(selector));\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Then } from 'cypress-cucumber-preprocessor/steps';\nimport { PageObjectSelector } from '../types';\nimport { getNavigationUrl } from '../../src/core/functions';\n\nexport function register(): void {\n    Then(`URL is {string}`, (selectorString: string) => {\n        const selector = new PageObjectSelector(selectorString);\n        const url = getNavigationUrl(selector);\n\n        if (url) {\n            cy.url().should('include', `${Cypress.config().baseUrl}/${url}`);\n        }\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as SeeTitle from './seeTitle';\nimport * as CorrectUrl from './correctUrl';\n\nexport function register(): void {\n    SeeTitle.register();\n    CorrectUrl.register();\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Then } from 'cypress-cucumber-preprocessor/steps';\n\nexport function register(): void {\n    Then(`I see {string} in title`, (title: string) => {\n        cy.title().should('include', title);\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { When } from 'cypress-cucumber-preprocessor/steps';\nimport { BlankLinkClickOptions, ClickOptions, PageObjectSelector } from '../types';\nimport { CypressSavedElement, extractCommonGetOptions, getElement } from '../../src/core/functions';\nimport { TableDefinition } from 'cucumber';\n\nexport function register(): void {\n    When(`I click {string}`, async (selectorString: string, table: TableDefinition) => {\n        const options = table ? new ClickOptions(table.rowsHash()) : new ClickOptions({});\n        const selector = new PageObjectSelector(selectorString);\n        const element: CypressSavedElement = getElement(selector);\n\n        const getOptions = extractCommonGetOptions(options);\n\n        if (options.first) {\n            cy.get(element, getOptions)\n                .first()\n                .click({ force: options.force });\n        } else {\n            cy.get(element, getOptions)\n                .click({ force: options.force });\n        }\n    });\n\n    When(`I click blank link {string}`, (selectorString: string, table: TableDefinition) => {\n        const selector = new PageObjectSelector(selectorString);\n        const options = table ? new BlankLinkClickOptions(table.rowsHash()) : new BlankLinkClickOptions({});\n        const element: CypressSavedElement = getElement(selector);\n\n        const getOptions = extractCommonGetOptions(options);\n\n        const callback = (el): void => {\n            if (el.attr('target') === '_blank' && el.attr('href') && !options.customClick) {\n                const url: string = el.attr('href') as string;\n                if (!options.force) {\n                    cy.root().should('be.visible');\n                }\n                cy.visit(url);\n            } else {\n                let href;\n                let stub;\n                cy.window().then(win => {\n                    stub = cy.stub(win, 'open').callsFake(passedHref => {\n                        href = passedHref;\n                    });\n                });\n                cy.root().click({ force: options.force })\n                    .then(() => {\n                        expect(stub).to.be.called;\n                        cy.visit(href);\n                    });\n            }\n        };\n\n        if (options.first) {\n            cy.get(element, getOptions).first()\n                .within(callback);\n        } else {\n            cy.get(element, getOptions).within(callback);\n        }\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { When } from 'cypress-cucumber-preprocessor/steps';\nimport { PageObjectSelector } from '../types';\nimport { CypressSavedElement, getElement } from '../../src/core/functions';\n\nexport function register(): void {\n    When(`I hover element {string} without sub hovers`, (selectorString: string) => {\n        const selector = new PageObjectSelector(selectorString);\n        const element: CypressSavedElement = getElement(selector);\n\n        if (element === null) {\n            return;\n        }\n\n        cy.get(element)\n            .first()\n            .trigger('mouseover');\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as Click from './click';\nimport * as See from './see';\nimport * as LogIn from './logIn';\nimport * as TypingIn from './typingIn';\nimport * as Hover from './hover';\n\nexport function register(): void {\n    Click.register();\n    See.register();\n    LogIn.register();\n    TypingIn.register();\n    Hover.register();\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { When } from 'cypress-cucumber-preprocessor/steps';\nimport { PageObjectSelector } from '../types';\nimport { CypressSavedElement, getElement } from '../../src/core/functions';\nimport { LogInRole } from '../../src/core/index';\n\nexport function register(): void {\n    When(`I log in at {string} as {string}`, async (selectorString: string, roleSelectorString: string) => {\n        const elementSelector = new PageObjectSelector(selectorString);\n        const roleSelector = new PageObjectSelector(roleSelectorString);\n\n        const element: CypressSavedElement = getElement(elementSelector);\n        cy.get(element).within(form => {\n            cy.root().should('be.visible');\n            const credentials: LogInRole = roleSelector.getValue();\n            for (const field of credentials) {\n                cy.get(`input[name=\"${field.fieldName}\"]`).type(field.value);\n            }\n\n            cy.wrap(form).submit();\n        });\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { When } from 'cypress-cucumber-preprocessor/steps';\nimport { PageObjectSelector, SeeOptions } from '../types';\nimport { CypressSavedElement, extractCommonGetOptions, getElement } from '../../src/core/functions';\nimport { TableDefinition } from 'cucumber';\n\nexport function register(): void {\n    When(`I see (element ){string}`, (selectorString: string, table: TableDefinition) => {\n        const options = table ? new SeeOptions(table.rowsHash()) : new SeeOptions({});\n        const selector = new PageObjectSelector(selectorString);\n        const getOptions = extractCommonGetOptions(options);\n\n        const element: CypressSavedElement = getElement(selector, getOptions);\n        if (options.amount === 1) {\n            cy.get(element)\n                .should('have.length', 1)\n                .scrollIntoView()\n                .should('be.visible');\n        } else {\n            cy.get(element).then(matchedElements => {\n                if (options.amount) {\n                    cy.wrap(matchedElements).should('have.length', options.amount);\n                }\n                cy.wrap(matchedElements).each(matchedElement => {\n                    cy.wrap(matchedElement)\n                        .scrollIntoView()\n                        .should('be.visible');\n                });\n            });\n        }\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { When } from 'cypress-cucumber-preprocessor/steps';\nimport { PageObjectSelector } from '../types';\nimport { CypressSavedElement, getElement } from '../../src/core/functions';\n\nexport function register(): void {\n    When(`I type {string} into element {string}`, (text: string, selectorString: string) => {\n        const selector = new PageObjectSelector(selectorString);\n        const element: CypressSavedElement = getElement(selector);\n\n        if (element === null) {\n            return;\n        }\n\n        cy.get(element)\n            .scrollIntoView()\n            .should('be.visible')\n            .type(`${text}{enter}`);\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PageObjectField, registerPageObject } from '../src/core';\nimport { CredentialsObject } from '../src/core/functions';\n\nfunction extractCredentials(credentials: CredentialsObject): void {\n    @registerPageObject({ name: 'Credentials', type: PageObjectField.RoleCredentials })\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    class Credentials {\n        constructor() {\n            if (credentials) {\n                Object.entries(credentials).forEach(([key, value]) => {\n                    this[key] = value;\n                });\n            }\n        }\n    }\n}\n\nexport function register(): void {\n    before(() => {\n        const credentials: CredentialsObject = Cypress.env('credentials') || {};\n        extractCredentials(credentials);\n    });\n\n    beforeEach(() => {\n        const urlToVisit = Cypress.env('startUrl') || '/';\n        cy.visit(urlToVisit);\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport 'reflect-metadata';\nimport * as Types from './types';\nimport * as GlobalHooks from './globalHooks';\nimport * as Then from './Then';\nimport * as When from './When';\nimport * as Given from './Given';\n\nexport function register(): void {\n    Types.register();\n    GlobalHooks.register();\n    Given.register();\n    When.register();\n    Then.register();\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { IPageObjectFieldDescription, IPageObjectMetadata, storage } from '../src/core';\n\nexport class PageObjectSelector {\n    public classInstance: IPageObjectMetadata;\n    public fieldDescriptor: IPageObjectFieldDescription;\n    public className: string;\n    public fieldName: string;\n\n    constructor(pageObjectSelector: string) {\n        const [className, fieldName] = pageObjectSelector.split('.');\n        this.fieldName = fieldName;\n        this.className = className;\n        const classInstance = storage.get(className);\n        if (classInstance === undefined) {\n            throw new Error(`Cannot find page object class ${className}`);\n        }\n        this.classInstance = classInstance;\n        this.fieldDescriptor = this.classInstance.getFieldDescriptor(this.fieldName);\n    }\n\n    public getValue(): any {\n        if (this.fieldDescriptor.invokable) {\n            return this.classInstance[this.fieldName]();\n        } else {\n            return this.classInstance[this.fieldName];\n        }\n    }\n\n    public toString(): string {\n        return `${this.className}.${this.fieldName}`;\n    }\n}\n\nexport type DataTableRowsHash = { [key: string]: string };\n\nexport abstract class ElementGetOptions {\n    public wait: number | null = null;\n\n    protected constructor(props: DataTableRowsHash) {\n        this.wait = Number(props.wait) || this.wait;\n    }\n}\n\nexport type GetOptions = Partial<Cypress.Timeoutable>;\n\nexport class ClickOptions extends ElementGetOptions{\n    public first = false;\n    public force = false;\n\n    constructor(props: DataTableRowsHash) {\n        super(props);\n        this.first = Boolean(props.first) || this.first;\n        this.force = Boolean(props.force) || this.force;\n    }\n}\n\nexport class BlankLinkClickOptions extends ClickOptions {\n    public customClick = false;\n\n    constructor(props: DataTableRowsHash) {\n        super(props);\n        this.customClick = Boolean(props.customClick) || this.customClick;\n    }\n}\n\nexport class SeeOptions extends ElementGetOptions {\n    public amount: number | null = null;\n\n    constructor(props: DataTableRowsHash) {\n        super(props);\n        this.amount = Number(props.amount) || this.amount;\n    }\n}\n\nexport function register(): void {\n    /* Use this across project as soon as\n    https://youtrack.jetbrains.com/issue/WEB-39983?_ga=2.137121712.1268965974.1566197839-869244565.1565073645\n    is resolved\n\n    defineParameterType({\n        name: 'pageObjectSelector',\n        regexp: /[a-zA-Z]+\\.[a-zA-Z]+/,\n        transformer: selector => new PageObjectSelector(selector)\n    });\n     */\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ElementGetOptions, GetOptions, PageObjectSelector } from '../../lib/types';\nimport { LogInRole, PageObjectField } from './pageObjectRegistrator';\nimport Bluebird from 'cypress/types/bluebird';\n\nexport type CypressSavedElement = string;\nexport type CredentialsObject = { [key: string]: LogInRole };\n\nconst getElementAlias: CypressSavedElement = 'getElement';\n\nexport function getElement(selector: PageObjectSelector, getOptions: GetOptions = {}): CypressSavedElement{\n    const element: CypressSavedElement | null = '@' + getElementAlias;\n\n    switch (selector.fieldDescriptor.type) {\n        case PageObjectField.Xpath:\n            // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n            // @ts-ignore\n            cy.xpath(selector.getValue(), getOptions).as(getElementAlias);\n            break;\n        case PageObjectField.Selector: {\n            const value = selector.getValue();\n            if (Array.isArray(value) && typeof value[1]  === 'string') {\n                const [ element, contains ] = value;\n                cy.contains(element, contains, getOptions).as(getElementAlias);\n            } else {\n                cy.get(selector.getValue(), getOptions).as(getElementAlias);\n            }\n            break;\n        }\n        default:\n            throw new Error(`Incorrect field type: '${selector.fieldDescriptor.type}' when trying to see element by selector '${selector.toString()}' `);\n    }\n    return element;\n}\n\nexport function getNavigationUrl(selector: PageObjectSelector): string {\n    if (selector.fieldDescriptor.type !== PageObjectField.Navigation) {\n        throw new Error(`Incorrect field type: '${selector.fieldDescriptor.type}' when trying to get URL by selector '${selector.toString()}' `);\n    }\n    return selector.getValue();\n}\n\nexport function extractCommonGetOptions(options: ElementGetOptions): Partial<Cypress.Timeoutable & Cypress.Withinable> {\n    const result: Partial<Cypress.Timeoutable & Cypress.Withinable> = {};\n\n    if(options.wait !== null && !isNaN(options.wait)) {\n        result.timeout = options.wait;\n    }\n    return result;\n}\n\nexport function makeCypressWaitForPromise(promiseToWait: Promise<any>): Bluebird<any> {\n    return new Cypress.Promise((resolve, reject): void => {\n        promiseToWait.then(resolve).catch(reject);\n    });\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './pageObjectRegistrator';\nexport { makeCypressWaitForPromise } from './functions';\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const storage = new Map<string, IPageObjectMetadata>();\n\n// Keys should be the same as values to allow following typecheck: keyof typeof PageObjectFieldType\nexport enum PageObjectField {\n    Selector = 'Selector',\n    Xpath = 'Xpath',\n    Navigation = 'Navigation',\n    RoleCredentials = 'RoleCredentials'\n}\n\nexport interface IRoleCredentials {\n    fieldName: string;\n    value: string;\n}\n\nexport type PageObjectFieldType = PageObjectField | keyof typeof PageObjectField;\nexport type LogInRole = Array<IRoleCredentials>;\n\n// Metadata for fields\nexport interface IPageObjectFieldDescription {\n    invokable: boolean;\n    type: PageObjectField | null;\n}\n\nexport interface IPageObjectMetadata {\n    getFieldDescriptor(key: string): IPageObjectFieldDescription;\n}\n\nexport interface IPageObjectParams {\n    name: string;\n    type?: PageObjectFieldType;\n}\n\nconst metadataTypeKey = 'PageObjectFieldType';\nconst metadataInvokableKey = 'PageObjectFieldInvokable';\n\nexport function registerPageObject<T extends {new(...args: any[]): {}}>(\n    params: IPageObjectParams | string\n): (constructor: T) => void {\n    // TODO replace any with valid type\n    const name = typeof params === 'string' ? params : params.name;\n    const type = params.hasOwnProperty('type') ? (params as IPageObjectParams).type : null;\n    return (constructor: T): void => {\n        class MetadataProvider extends constructor implements IPageObjectMetadata{\n            public getFieldDescriptor(key: keyof MetadataProvider): IPageObjectFieldDescription {\n                if (Reflect.hasMetadata(metadataTypeKey, this, key)) {\n                    return {\n                        invokable: Reflect.getMetadata(metadataInvokableKey, this, key),\n                        type: Reflect.getMetadata(metadataTypeKey, this, key),\n                    };\n                } else if (Reflect.hasMetadata(metadataTypeKey, this)) {\n                    return {\n                        type: Reflect.getMetadata(metadataTypeKey, this),\n                        invokable: false,\n                    };\n                } else {\n                    return {\n                        type: null,\n                        invokable: false,\n                    };\n                }\n            }\n        }\n\n        const classInstance = new MetadataProvider();\n\n        if (type !== null) {\n            Reflect.defineMetadata(metadataTypeKey, type, MetadataProvider.prototype);\n        }\n\n        cy.log(`Added ${name}`);\n\n        if (storage.has(name)) {\n            throw new Error(`Detected page object with duplicate name ${ name }`);\n        }\n        storage.set(name, classInstance);\n    };\n}\n\nexport function registerSelector(type: PageObjectField | keyof typeof PageObjectField) {\n    return function (target: Record<string, any>, key: string | symbol, descriptor?: PropertyDescriptor): void {\n        const invokable = descriptor !== undefined;\n\n        Reflect.defineMetadata(\n            metadataTypeKey, type, target,  key\n        );\n        Reflect.defineMetadata(\n            metadataInvokableKey, invokable, target, key\n        );\n    };\n}\n","/*\n * Copyright 2019 Spark Equation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './core';\nexport { register } from '../lib';\n","module.exports = require(\"core-js/modules/es.array.iterator\");","module.exports = require(\"core-js/modules/es.promise\");","module.exports = require(\"cypress-cucumber-preprocessor/steps\");","module.exports = require(\"reflect-metadata\");"],"sourceRoot":""}